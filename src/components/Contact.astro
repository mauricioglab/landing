---
// Contact component redesigned with better UX
---

<section id="contacto" class="section-padding bg-gradient-to-br from-primary-600 to-primary-800 text-white">
  <div class="container-custom">
    <div class="max-w-4xl mx-auto">
      <div class="text-center mb-12">
        <h2 class="text-3xl sm:text-4xl font-display font-bold mb-4">
          ¬øTu equipo necesita entender IA de verdad? ü§ù
        </h2>
        <p class="text-xl text-primary-100 max-w-2xl mx-auto mb-2">
          Hablemos de c√≥mo puedo ayudar con conferencias, cursos o mentor√≠as adaptadas a tu realidad.
        </p>
      </div>
      
      <div class="grid lg:grid-cols-2 gap-12 items-start">
        <!-- Contact info -->
        <div class="space-y-8">
          <div class="space-y-6">
            <div class="flex items-start space-x-4">
              <div class="w-12 h-12 bg-white bg-opacity-20 rounded-xl flex items-center justify-center flex-shrink-0">
                <i class="fas fa-calendar-alt text-white text-xl"></i>
              </div>
              <div>
                <h3 class="text-xl font-semibold mb-2">Agenda una sesi√≥n</h3>
                <p class="text-primary-100 mb-3">Chateamos 30 minutos gratis para ver qu√© necesit√°s</p>
                <a href="https://calendly.com/mauricio-gonzalez" 
                   class="inline-flex items-center text-accent-300 hover:text-accent-200 font-medium" 
                   target="_blank">
                  <i class="fas fa-external-link-alt mr-2"></i>
                  Abrir Calendly
                </a>
              </div>
            </div>
            
            <div class="flex items-start space-x-4">
              <div class="w-12 h-12 bg-white bg-opacity-20 rounded-xl flex items-center justify-center flex-shrink-0">
                <i class="fab fa-whatsapp text-white text-xl"></i>
              </div>
              <div>
                <h3 class="text-xl font-semibold mb-2">WhatsApp directo</h3>
                <p class="text-primary-100 mb-3">Para consultas r√°pidas o dudas puntuales</p>
                <a href="#" class="inline-flex items-center text-accent-300 hover:text-accent-200 font-medium">
                  <i class="fas fa-phone mr-2"></i>
                  Escribir por WhatsApp
                </a>
              </div>
            </div>
          </div>
          
          <!-- Social proof -->
          <div class="bg-white bg-opacity-10 rounded-2xl p-6">
            <div class="flex items-center space-x-3 mb-4">
              <div class="flex -space-x-2">
                <div class="w-8 h-8 rounded-full bg-accent-500 border-2 border-white flex items-center justify-center text-white text-xs font-semibold">C</div>
                <div class="w-8 h-8 rounded-full bg-green-500 border-2 border-white flex items-center justify-center text-white text-xs font-semibold">L</div>
                <div class="w-8 h-8 rounded-full bg-yellow-500 border-2 border-white flex items-center justify-center text-white text-xs font-semibold">L</div>
              </div>
              <span class="text-sm text-primary-100">+50 profesionales ya aplicaron lo que ense√±o en sus empresas</span>
            </div>

          </div>
        </div>
        
        <!-- Form -->
        <div class="bg-white rounded-2xl shadow-2xl p-8">
          <form id="contactForm" class="space-y-6">
            <div>
              <label for="nombre" class="block text-sm font-semibold text-neutral-700 mb-2">
                Tu nombre
              </label>
              <input type="text" 
                     id="nombre" 
                     name="nombre" 
                     placeholder="Como te llam√°s?" 
                     class="w-full px-4 py-3 border border-neutral-300 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors"
                     required>
            </div>
            
            <div>
              <label for="email" class="block text-sm font-semibold text-neutral-700 mb-2">
                Email <span class="text-neutral-400 font-normal">(opcional, pero ayuda para responderte)</span>
              </label>
              <input type="email" 
                     id="email" 
                     name="email" 
                     placeholder="tu@email.com" 
                     class="w-full px-4 py-3 border border-neutral-300 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors">
            </div>
            
            <div>
              <label for="mensaje" class="block text-sm font-semibold text-neutral-700 mb-2">
                Contame tu idea
              </label>
              <textarea id="mensaje" 
                        name="mensaje" 
                        rows="4" 
                        placeholder="Tu proyecto o qu√© quer√©s aprender." 
                        class="w-full px-4 py-3 border border-neutral-300 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors resize-none"
                        required></textarea>
            </div>
            
            <button type="submit" class="btn btn-primary w-full text-base py-4 shadow-xl hover:shadow-2xl">
              <i class="fas fa-paper-plane mr-2"></i>
              Probemos juntos
            </button>
          </form>
        </div>
      </div>
    </div>
  </div>
</section>

<script>
  // Form handling with confetti
  document.addEventListener('DOMContentLoaded', function() {
    const form = document.getElementById('contactForm');
    
    if (form) {
      form.addEventListener('submit', function(e) {
        e.preventDefault();
        
        // Get form data
        const formData = new FormData(form);
        const nombre = formData.get('nombre');
        const email = formData.get('email');
        const mensaje = formData.get('mensaje');
        
        // Basic validation
        if (!nombre || !mensaje) {
          showNotification('Por favor, completa tu nombre y mensaje.', 'error');
          return;
        }
        
        // Email is optional, but if provided, validate it
        if (email && !isValidEmail(email)) {
          showNotification('El email no parece v√°lido. Dejalo vac√≠o si prefer√≠s.', 'error');
          return;
        }
        
        // Simulate form submission
        const submitButton = form.querySelector('button[type="submit"]');
        const originalText = submitButton.innerHTML;
        
        submitButton.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i>Enviando...';
        submitButton.disabled = true;
        
        // Simulate API call
        setTimeout(() => {
          showNotification('¬°Mensaje enviado! Te contactar√© pronto.', 'success');
          form.reset();
          submitButton.innerHTML = originalText;
          submitButton.disabled = false;
          
          // Confetti celebration
          celebrateWithConfetti();
        }, 2000);
      });
    }
  });

  // Email validation helper
  function isValidEmail(email) {
    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    return emailRegex.test(email);
  }

  // Notification system
  function showNotification(message, type = 'info') {
    // Remove existing notifications
    const existingNotifications = document.querySelectorAll('.notification');
    existingNotifications.forEach(notification => notification.remove());
    
    // Create notification element
    const notification = document.createElement('div');
    notification.className = `notification notification-${type}`;
    notification.innerHTML = `
      <div class="flex items-center space-x-3">
        <div class="flex-shrink-0">
          <i class="fas fa-${type === 'success' ? 'check-circle' : 'exclamation-circle'} text-white"></i>
        </div>
        <div class="text-white font-medium">${message}</div>
      </div>
    `;
    
    // Add styles
    notification.style.cssText = `
      position: fixed;
      top: 2rem;
      right: 2rem;
      background: ${type === 'success' ? '#10b981' : type === 'error' ? '#ef4444' : '#3b82f6'};
      color: white;
      padding: 1rem 1.5rem;
      border-radius: 12px;
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
      z-index: 10000;
      font-family: 'Inter', sans-serif;
      max-width: 400px;
      animation: slideInRight 0.3s ease, fadeOut 0.3s ease 4.7s forwards;
    `;
    
    document.body.appendChild(notification);
    
    // Auto remove after 5 seconds
    setTimeout(() => {
      if (notification.parentNode) {
        notification.remove();
      }
    }, 5000);
  }

  // Confetti celebration function
  function celebrateWithConfetti() {
    if (typeof confetti === 'undefined') {
      console.log('üéâ Confetti would happen here!');
      return;
    }
    
    const colors = ['#3b82f6', '#f97316', '#10b981', '#ef4444', '#8b5cf6'];
    
    confetti({
      particleCount: 100,
      spread: 70,
      origin: { y: 0.6 },
      colors: colors
    });
  }
</script>